In the previous version of this app the connection was established through a Mqtt brocker installed in a third device to eleminate the third 
party in this version the connection is estlablied via cloud

To make changes in the previous version just follow these steps:

In the connect function insert two textBox for username and password input 




    public void connect ()
    {   
          String URL = ""  ;  //Enter the url generated by cloud and also enter the port number by com:portnumber

         String clientId = MqttClient.generateClientId();

         client = new MqttAndroidClient(this.getApplicationContext(),"tcp://"+URL,clientId);

        MqttConnectOptions options= new MqttConnectOptions();

        try {

            options.setUserName("") ;  //Enter the username provided by cloud
            options.setPassword("".toCharArray()); // Enter the password provided by cloud


            IMqttToken token = client.connect(options);
            token.setActionCallback(new IMqttActionListener(){
                @Override
                public void onSuccess(IMqttToken asyncActionToken) {
                    // We are connected
                    getdata.setVisibility(View.INVISIBLE);
                    intopic.setVisibility(View.INVISIBLE);
                   Toast.makeText(MainActivity.this,"Publishing Started Give Commands",Toast.LENGTH_LONG).show();
                    Connect.setVisibility(View.INVISIBLE);
                }

                @Override
                public void onFailure(IMqttToken asyncActionToken, Throwable exception) {
                    // Something went wrong e.g. connection timeout or firewall problems
                    Toast.makeText(MainActivity.this,"Unable to Connect", Toast.LENGTH_SHORT).show();
                    Connect.setVisibility(View.VISIBLE);

                }
            });
        } catch (MqttException e) {
            e.printStackTrace();
        }

    }
       public void exit()
       {
           finish();
           }
}



